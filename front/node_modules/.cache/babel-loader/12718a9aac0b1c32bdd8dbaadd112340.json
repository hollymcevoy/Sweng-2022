{"ast":null,"code":"'use strict';\n\nvar $ = require('../internals/export');\n\nvar IS_PURE = require('../internals/is-pure');\n\nvar global = require('../internals/global');\n\nvar getBuiltIn = require('../internals/get-built-in');\n\nvar call = require('../internals/function-call');\n\nvar NativePromise = require('../internals/native-promise-constructor');\n\nvar redefine = require('../internals/redefine');\n\nvar redefineAll = require('../internals/redefine-all');\n\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\nvar setToStringTag = require('../internals/set-to-string-tag');\n\nvar setSpecies = require('../internals/set-species');\n\nvar aCallable = require('../internals/a-callable');\n\nvar isCallable = require('../internals/is-callable');\n\nvar isObject = require('../internals/is-object');\n\nvar anInstance = require('../internals/an-instance');\n\nvar inspectSource = require('../internals/inspect-source');\n\nvar iterate = require('../internals/iterate');\n\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar task = require('../internals/task').set;\n\nvar microtask = require('../internals/microtask');\n\nvar promiseResolve = require('../internals/promise-resolve');\n\nvar hostReportErrors = require('../internals/host-report-errors');\n\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\n\nvar perform = require('../internals/perform');\n\nvar Queue = require('../internals/queue');\n\nvar InternalStateModule = require('../internals/internal-state');\n\nvar isForced = require('../internals/is-forced');\n\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar IS_BROWSER = require('../internals/engine-is-browser');\n\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.getterFor(PROMISE);\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar NativePromisePrototype = NativePromise && NativePromise.prototype;\nvar PromiseConstructor = NativePromise;\nvar PromisePrototype = NativePromisePrototype;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = isCallable(global.PromiseRejectionEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar SUBCLASSING = false;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\nvar FORCED = isForced(PROMISE, function () {\n  var PROMISE_CONSTRUCTOR_SOURCE = inspectSource(PromiseConstructor);\n  var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String(PromiseConstructor); // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n  // We can't detect it synchronously, so just check versions\n\n  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true; // We need Promise#finally in the pure version for preventing prototype pollution\n\n  if (IS_PURE && !PromisePrototype['finally']) return true; // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n\n  if (V8_VERSION >= 51 && /native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) return false; // Detect correctness of subclassing with @@species support\n\n  var promise = new PromiseConstructor(function (resolve) {\n    resolve(1);\n  });\n\n  var FakePromise = function (exec) {\n    exec(function () {\n      /* empty */\n    }, function () {\n      /* empty */\n    });\n  };\n\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  SUBCLASSING = promise.then(function () {\n    /* empty */\n  }) instanceof FakePromise;\n  if (!SUBCLASSING) return true; // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n\n  return !GLOBAL_CORE_JS_PROMISE && IS_BROWSER && !NATIVE_REJECTION_EVENT;\n});\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () {\n    /* empty */\n  });\n}); // helpers\n\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && isCallable(then = it.then) ? then : false;\n};\n\nvar callReaction = function (reaction, state) {\n  var value = state.value;\n  var ok = state.state == FULFILLED;\n  var handler = ok ? reaction.ok : reaction.fail;\n  var resolve = reaction.resolve;\n  var reject = reaction.reject;\n  var domain = reaction.domain;\n  var result, then, exited;\n\n  try {\n    if (handler) {\n      if (!ok) {\n        if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n        state.rejection = HANDLED;\n      }\n\n      if (handler === true) result = value;else {\n        if (domain) domain.enter();\n        result = handler(value); // can throw\n\n        if (domain) {\n          domain.exit();\n          exited = true;\n        }\n      }\n\n      if (result === reaction.promise) {\n        reject(TypeError('Promise-chain cycle'));\n      } else if (then = isThenable(result)) {\n        call(then, result, resolve, reject);\n      } else resolve(result);\n    } else reject(value);\n  } catch (error) {\n    if (domain && !exited) domain.exit();\n    reject(error);\n  }\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  microtask(function () {\n    var reactions = state.reactions;\n    var reaction;\n\n    while (reaction = reactions.get()) {\n      callReaction(reaction, state);\n    }\n\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = {\n    promise: promise,\n    reason: reason\n  };\n\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  call(task, global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      }); // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  call(task, global, function () {\n    var promise = state.facade;\n\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n\n    if (then) {\n      microtask(function () {\n        var wrapper = {\n          done: false\n        };\n\n        try {\n          call(then, value, bind(internalResolve, wrapper, state), bind(internalReject, wrapper, state));\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({\n      done: false\n    }, error, state);\n  }\n}; // constructor polyfill\n\n\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromisePrototype);\n    aCallable(executor);\n    call(Internal, this);\n    var state = getInternalState(this);\n\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n\n  PromisePrototype = PromiseConstructor.prototype; // eslint-disable-next-line no-unused-vars -- required for `.length`\n\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: new Queue(),\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n\n  Internal.prototype = redefineAll(PromisePrototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    // eslint-disable-next-line unicorn/no-thenable -- safe\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      state.parent = true;\n      reaction.ok = isCallable(onFulfilled) ? onFulfilled : true;\n      reaction.fail = isCallable(onRejected) && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      if (state.state == PENDING) state.reactions.add(reaction);else microtask(function () {\n        callReaction(reaction, state);\n      });\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper ? new OwnPromiseCapability(C) : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && isCallable(NativePromise) && NativePromisePrototype !== Object.prototype) {\n    nativeThen = NativePromisePrototype.then;\n\n    if (!SUBCLASSING) {\n      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\n      redefine(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          call(nativeThen, that, resolve, reject);\n        }).then(onFulfilled, onRejected); // https://github.com/zloirock/core-js/issues/640\n      }, {\n        unsafe: true\n      }); // makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`\n\n      redefine(NativePromisePrototype, 'catch', PromisePrototype['catch'], {\n        unsafe: true\n      });\n    } // make `.constructor === Promise` work for native promise-based APIs\n\n\n    try {\n      delete NativePromisePrototype.constructor;\n    } catch (error) {\n      /* empty */\n    } // make `instanceof Promise` work for native promise-based APIs\n\n\n    if (setPrototypeOf) {\n      setPrototypeOf(NativePromisePrototype, PromisePrototype);\n    }\n  }\n}\n\n$({\n  global: true,\n  wrap: true,\n  forced: FORCED\n}, {\n  Promise: PromiseConstructor\n});\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\nPromiseWrapper = getBuiltIn(PROMISE); // statics\n\n$({\n  target: PROMISE,\n  stat: true,\n  forced: FORCED\n}, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    call(capability.reject, undefined, r);\n    return capability.promise;\n  }\n});\n$({\n  target: PROMISE,\n  stat: true,\n  forced: IS_PURE || FORCED\n}, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n$({\n  target: PROMISE,\n  stat: true,\n  forced: INCORRECT_ITERATION\n}, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aCallable(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        remaining++;\n        call($promiseResolve, C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aCallable(C.resolve);\n      iterate(iterable, function (promise) {\n        call($promiseResolve, C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});","map":{"version":3,"sources":["/Users/dylanmurray/Sweng-2022/front/node_modules/core-js-pure/modules/es.promise.js"],"names":["$","require","IS_PURE","global","getBuiltIn","call","NativePromise","redefine","redefineAll","setPrototypeOf","setToStringTag","setSpecies","aCallable","isCallable","isObject","anInstance","inspectSource","iterate","checkCorrectnessOfIteration","speciesConstructor","task","set","microtask","promiseResolve","hostReportErrors","newPromiseCapabilityModule","perform","Queue","InternalStateModule","isForced","wellKnownSymbol","IS_BROWSER","IS_NODE","V8_VERSION","SPECIES","PROMISE","getInternalState","getterFor","setInternalState","getInternalPromiseState","NativePromisePrototype","prototype","PromiseConstructor","PromisePrototype","TypeError","document","process","newPromiseCapability","f","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","NATIVE_REJECTION_EVENT","PromiseRejectionEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","SUBCLASSING","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","FORCED","PROMISE_CONSTRUCTOR_SOURCE","GLOBAL_CORE_JS_PROMISE","String","test","promise","resolve","FakePromise","exec","constructor","then","INCORRECT_ITERATION","iterable","all","isThenable","it","callReaction","reaction","state","value","ok","handler","fail","reject","domain","result","exited","rejection","onHandleUnhandled","enter","exit","error","notify","isReject","notified","reactions","get","onUnhandled","name","reason","event","initEvent","facade","IS_UNHANDLED","isUnhandled","emit","parent","bind","fn","unwrap","internalReject","done","internalResolve","wrapper","Promise","executor","type","undefined","onFulfilled","onRejected","add","C","Object","that","unsafe","wrap","forced","target","stat","r","capability","x","$promiseResolve","values","counter","remaining","index","alreadyCalled","race"],"mappings":"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","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar call = require('../internals/function-call');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar aCallable = require('../internals/a-callable');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar anInstance = require('../internals/an-instance');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar Queue = require('../internals/queue');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_BROWSER = require('../internals/engine-is-browser');\nvar IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\n\nvar getInternalState = InternalStateModule.getterFor(PROMISE);\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar NativePromisePrototype = NativePromise && NativePromise.prototype;\nvar PromiseConstructor = NativePromise;\nvar PromisePrototype = NativePromisePrototype;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\n\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = isCallable(global.PromiseRejectionEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar SUBCLASSING = false;\n\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var PROMISE_CONSTRUCTOR_SOURCE = inspectSource(PromiseConstructor);\n  var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String(PromiseConstructor);\n  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n  // We can't detect it synchronously, so just check versions\n  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromisePrototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = new PromiseConstructor(function (resolve) { resolve(1); });\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;\n  if (!SUBCLASSING) return true;\n  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n  return !GLOBAL_CORE_JS_PROMISE && IS_BROWSER && !NATIVE_REJECTION_EVENT;\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && isCallable(then = it.then) ? then : false;\n};\n\nvar callReaction = function (reaction, state) {\n  var value = state.value;\n  var ok = state.state == FULFILLED;\n  var handler = ok ? reaction.ok : reaction.fail;\n  var resolve = reaction.resolve;\n  var reject = reaction.reject;\n  var domain = reaction.domain;\n  var result, then, exited;\n  try {\n    if (handler) {\n      if (!ok) {\n        if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n        state.rejection = HANDLED;\n      }\n      if (handler === true) result = value;\n      else {\n        if (domain) domain.enter();\n        result = handler(value); // can throw\n        if (domain) {\n          domain.exit();\n          exited = true;\n        }\n      }\n      if (result === reaction.promise) {\n        reject(TypeError('Promise-chain cycle'));\n      } else if (then = isThenable(result)) {\n        call(then, result, resolve, reject);\n      } else resolve(result);\n    } else reject(value);\n  } catch (error) {\n    if (domain && !exited) domain.exit();\n    reject(error);\n  }\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  microtask(function () {\n    var reactions = state.reactions;\n    var reaction;\n    while (reaction = reactions.get()) {\n      callReaction(reaction, state);\n    }\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  call(task, global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  call(task, global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          call(then, value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromisePrototype);\n    aCallable(executor);\n    call(Internal, this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  PromisePrototype = PromiseConstructor.prototype;\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: new Queue(),\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromisePrototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    // eslint-disable-next-line unicorn/no-thenable -- safe\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      state.parent = true;\n      reaction.ok = isCallable(onFulfilled) ? onFulfilled : true;\n      reaction.fail = isCallable(onRejected) && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      if (state.state == PENDING) state.reactions.add(reaction);\n      else microtask(function () {\n        callReaction(reaction, state);\n      });\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && isCallable(NativePromise) && NativePromisePrototype !== Object.prototype) {\n    nativeThen = NativePromisePrototype.then;\n\n    if (!SUBCLASSING) {\n      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\n      redefine(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          call(nativeThen, that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n\n      // makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`\n      redefine(NativePromisePrototype, 'catch', PromisePrototype['catch'], { unsafe: true });\n    }\n\n    // make `.constructor === Promise` work for native promise-based APIs\n    try {\n      delete NativePromisePrototype.constructor;\n    } catch (error) { /* empty */ }\n\n    // make `instanceof Promise` work for native promise-based APIs\n    if (setPrototypeOf) {\n      setPrototypeOf(NativePromisePrototype, PromisePrototype);\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    call(capability.reject, undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aCallable(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        remaining++;\n        call($promiseResolve, C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aCallable(C.resolve);\n      iterate(iterable, function (promise) {\n        call($promiseResolve, C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n"]},"metadata":{},"sourceType":"script"}